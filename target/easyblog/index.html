<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title></title>
		<link rel="stylesheet" type="text/css" href="an/asserts/bootstrap-3.3.7-dist/css/bootstrap.min.css" />
		<link rel="stylesheet" type="text/css" href="an/asserts/animate/animate.css" />
		<link rel="stylesheet" type="text/css" href="an/css/index.css" />
		<style>
			*{
				margin:0px;
				padding: 0px;
			}
			#slider{
				width: 100%;
				height:400px;
				position:relative;
				/*margin:100px auto;*/
				overflow: hidden;

			}
			#slider ul li{
				float:left;
				list-style: none;

			}
			#slider ul li img{
				width: 100%;
				height: 400px;
			}
			.arrow{
				display: none;
			}
			#slider .arrow .arr{
				top:200px;
				position:absolute;
				width: 50px;
				height: 50px;
				font-size: 35px;
				font-family: "黑体";
				line-height: 50px;
				background-color:rgba(0, 0, 0, 0.3); /*让背景透明文本不受影响*/
				color: #fff;
				text-align:center;
				font-weight: bold;
				cursor:pointer;
			}
			#slider .arrow .arrow-left{
				left:10px;
			}
			#slider .arrow .arrow-right{
				right:10px;
			}
			#slider:hover .arrow{   /*鼠标悬停时arrow属性 对应的标签显示*/
				display: block;
			}
		</style>
	</head>
	<body>

		<!-- 头部 -->
		<div class="navbar navbar-default top-bar">
			<div class="container">
				<div class="navbar-header">

				</div>
				<div class="collapse navbar-collapse">
					<ul class="nav navbar-nav navbar-right">
						<li><a href="index.html" class="top-active">首页</a></li>
						<li class="dropdown">
							<a href="javascript:void(0)" class="dropdown-toggle" data-toggle="dropdown" data-hover="dropdown" role="button" aria-haspopup="true"
							 aria-expanded="false">分类</a>
							<ul class="dropdown-menu">
								<li><a href="front.html">前端开发</a></li>
								<li><a href="back.html">后台开发</a></li>
								<li><a href="other.html">杂谈</a></li>
							</ul>
						</li>
						<li><a href="message.html">留言</a></li>
						<li><a href="">关于</a></li>
						<li><a href="login.html">登录</a></li>
						<li>
							<form class="navbar-form navbar-left">
								<div class="form-group">
									<div class="input-group">
										<input type="text" class="form-control" placeholder="输入搜索关键字">
										<div class="input-group-addon"><span class="glyphicon glyphicon-search"></span></div>
									</div>
								</div>
							</form>
						</li>
					</ul>
				</div>
				<!--navbar-collapse end-->
			</div>
			<!--container end-->
		</div>
		<!--navbar end -->

		<div id="slider">
			<div id="img">
				<ul class="list">

				</ul>
			</div>

			<div class="arrow">
				<span class="arr arrow-left">&lt;</span>
				<span class="arr arrow-right">&gt;</span>
			</div>

		</div>

		<!-- 内容区域 -->
		<div class="container">
			<!-- 博客列表 -->
			<div class="blog-list col-xs-8">
				<ul id="ul" class="list"></ul>
			</div>

			<!-- 其他信息 -->
			<div class="info col-xs-4">
				<!-- 博主信息 -->
				<div class="animated slideInDown user-info">
					<h3>博主信息</h3>
					<div class="details">
						<img src="img/14.jpg" class="img-circle img-responsive headicon">
						<p>
							<strong>秃头宝贝</strong>，一个80后程序员！09年入行。一直潜心研究JavaEE、web前端、Android等技术，一边工作一边积累经验，分享一些个人开发心得以及日常吐槽。青春没有失败，秀出你自己！
						</p>
					</div>
				</div>
				<!-- 标签 -->
				<div class="animated fadeIn tags">
					<h3>标签</h3>
					<ol id="tagul" >
					</ol>
				</div>
				<!-- 点击排行 -->
				<div class="animated fadeIn rank">
					<h3>点击排行</h3>
					<div class="details">
						<ul>
							<li><a href="">论一个程序员的自我修养</a></li>
							<li><a href="">论一个程序员的自我修养</a></li>
							<li><a href="">论一个程序员的自我修养</a></li>
							<li><a href="">论一个程序员的自我修养</a></li>
							<li><a href="">论一个程序员的自我修养</a></li>
						</ul>
					</div>
				</div>
				<!-- 友情链接 -->
				<div class="animated fadeIn friend-link">
					<h3>友情链接</h3>
					<div class="details">
						<ul id="linkul" >

						</ul>
					</div>
				</div>
				<!-- 博主二维码 -->
				<div class="animated fadeIn qrcode">
					<h3>博主微信</h3>
					<div class="details">
						<img src="img/23.png" class="img-responsive" alt="">
						&nbsp;
						<img src="img/25.png" class="img-responsive" alt="">
						&nbsp;
						<img src="img/55.png" class="img-responsive" alt="">
					</div>
				</div>
			</div>
		</div>
		
		<!-- 底部 -->
		<div class="copy">
			Design by 秃头宝贝 &copy; 软帝集团 版权所有
		</div>
		
		<!-- 回到顶部 -->
		<div class="backtop">
			<span class="glyphicon glyphicon-menu-up"></span>
		</div>
		
		<script src="an/js/jquery-3.2.1.min.js"></script>
		<script src="an/asserts/bootstrap-3.3.7-dist/js/bootstrap.min.js"></script>
		<script src="an/asserts/bootstrap-3.3.7-dist/js/bootstrap-hover-dropdown.js"></script>
		<script src="asserts/layer/layer.js"></script>
		<script src="asserts/layui/layui.js"></script>
		<script>
			layui.use('layer',function()
			{
				var layer = layui.layer;

				layer.ready(function()
				{
					$.get("/blog/listBlog",{},

					function(resp)
					{
						var data = resp;

						for(var i in data) {
							// $("#ul").append(
							// 		"<li class='animated flipInX list-item'>" +
							// 		"<i><img src='an/img/pic.jpg' class='img-responsive'></i>" +
							// 		"<h3>" +"<a href=/getById?id=" + data[i].id + ">"+data[i].title + "</h3>" +
							// 		"<p>" + data[i].summary + "</p>");
							$("#ul").append(
									"<li class='animated flipInX list-item'>" +
									"<i><img src='an/img/pic.jpg' class='img-responsive'></i>" +
									"<h3 onclick=\'blogDetails(\"" + data[i].id + "\",\"" + data[i].title + "\",\"" + data[i].summary + "\")\'><a href='javascript:void()'>" + data[i].title + "</a></h3>" +
									"<p  onclick=\'blogDetails(\"" + data[i].id + "\",\"" + data[i].title + "\",\"" + data[i].summary + "\")\'><a href='javascript:void()'>" + data[i].summary + "</a></p>");
						}
					});
					//	zys
					$.get("/link/linkList",{},

							function(resp)
							{
								var data = resp;
								var url;

								for(var i in data){
									url=data[i].url;
									$("#linkul").append(
											"<li>"+ "<a href='"+url+"'>"+data[i].title.toString()+"</a></li>");
								}
							});

					$.get("/tag/taglist",{},function(resp) {
						var data = resp;
						var title;
						for(var i in data){
							title=data[i].tname;
							$("#tagul").append(
									"<p>"+ "<a href='"+title+"'><span class='label label-info'>"+data[i].tname.toString()+"</span></a></p>&nbsp;&nbsp;");
						}
					});

				});
			});
		</script>
		<script>
			function blogDetails(id , title , summary)
			{
				layer.open
				({
					type:1,
					title:title,
					area:['1000px' , '700px'],
					content:summary
				});
			}

			$(function() {
				// //轮播悬停触发箭头显示与隐藏
				// $('#main-banner').hover(function() {
				// 	$('.carousel-control').fadeIn();
				// }, function() {
				// 	$('.carousel-control').fadeOut();
				// })
				// //轮播设置
				// $('.carousel').carousel({
				// 	interval: 5000
				// })
				
				$(window).scroll(function(){
					if($(window).scrollTop() > 100){
						$('.backtop').fadeIn(500);
					}else{
						$('.backtop').fadeOut(500);
					}
				})
				
				$('.backtop').on('click',function(){
					$('html,body').animate({scrollTop:0},500);
				})
			})
		</script>

		<script>
			//通过ajax请求，获取轮播图数据
			$.ajax({
				type:"GET",
				url:"http://localhost:8090/banner/getList",
				success:function(msg){
					// msg=JSON.parse(msg);
					console.log(msg);
					var length=msg.data.length;

					// console.log(length);

					var data=msg.data;
					data.forEach(function(el,i){
						console.log(el.path);
						$("#slider #img ul").append('<li><img src="' +el.path +'">' +'</li>')
					})

					var $lis=$("#slider #img .list li")
					var count=0;
					console.log($lis);
					var liLen=$lis.length;
					console.log(liLen);

					$('.arrow-left').click(function(){
						count++;
						count=count<liLen ? count:0;
						$lis.eq(count).fadeIn().siblings().fadeOut();//fadeIn(),fadeOut()为淡入，淡出效果，eq()为筛选第几个

					})
					$(".arrow-right").on('click',function(){
						count--;
						count=count>=0 ? count:liLen-1;
						$lis.eq(count).fadeIn().siblings().fadeOut(); //fadeIn(),fadeOut()为淡入，淡出效果
					})

				}
			})

			$(function() {
				$(window).scroll(function(){
					if($(window).scrollTop() > 100){
						$('.backtop').fadeIn(500);
					}else{
						$('.backtop').fadeOut(500);
					}
				})

				$('.backtop').on('click',function(){
					$('html,body').animate({scrollTop:0},500);
				})
			})
		</script>
	</body>
</html>
